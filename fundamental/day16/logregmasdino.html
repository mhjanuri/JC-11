<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <center>
        <h1>Login & Register</h1>
        Username: <input type="text" id="username" /> <br><br>
        Password: <input type="password" id="password"/> <br><br>
        <button onclick="register()">Register</button> <button onclick="login()">Login</button>
        <h1></h1>
        <h1></h1>
        <p></p>
    </center>
</body>
<script>
class User{
    constructor(a,b,c){
        this.username=a,
        this.password=b,
        this.role=c
    }
}
var datausers=[
    new User('dino','12','user'),
    new User('admin','12','admin'),
]

var datauserlogin={}

const login=()=>{
    var username=document.getElementById('username').value
    var pass=document.getElementById('password').value
    // var login=false
    // for(var i=0;i<datausers.length;i++){
    //     if(username==datausers[i].username&&pass==datausers[i].password){
    //         login=true
    //         datauserlogin=datausers[i]
    //     }
    // }
    var arrbaru=datausers.filter((val)=>val.username==username&&val.password==pass)
    datauserlogin=arrbaru[0]
    console.log(login)
    if(datauserlogin){
        document.getElementsByTagName('h1')[1].innerHTML=datauserlogin.username
        if(datauserlogin.role=='admin'){
            document.getElementsByTagName('h1')[2].innerHTML='Sebagai admin kece'
        }else{
            document.getElementsByTagName('h1')[2].innerHTML='sebagai user unyu'
        }
        document.getElementsByTagName('p')[0].innerHTML=`<button onclick="logoutuser()"> logout</button>`
    }else{
        document.getElementsByTagName('h1')[1].innerHTML='user tidak ditemukan atau password salah'
        document.getElementsByTagName('h1')[2].innerHTML=''
        document.getElementsByTagName('p')[0].innerHTML=``
    }
}
const logoutuser=()=>{
    datauserlogin={}
    document.getElementsByTagName('h1')[1].innerHTML=''
    document.getElementsByTagName('h1')[2].innerHTML=''
    document.getElementsByTagName('p')[0].innerHTML=``
}
const register=()=>{
    var username=document.getElementById('username').value
    var pass=document.getElementById('password').value
    datausers.push(new User(username,pass,'user'))
    document.getElementsByTagName('h1')[1].innerHTML='berhasil register'
}

















// const register=()=>{
//     var username=document.getElementById('username').value
//     var password=document.getElementById('password').value
//     datausers.push(new User(username,password,'user'))
//     document.getElementsByTagName('h1')[1].innerHTML='berhasil register'
// }
// var datauserlog={}
// const login=()=>{
//     var username=document.getElementById('username').value
//     var password=document.getElementById('password').value
//     var login=false
//     for(var i=0;i<datausers.length;i++){
//         if(datausers[i].username==username&&datausers[i].password==password){
//             login=true
//             datauserlog=datausers[i]
//         }
//     }
//     if(login){
//         document.getElementsByTagName('h1')[1].innerHTML=datauserlog.username
//         if(datauserlog.role==='admin'){
//             document.getElementsByTagName('h1')[2].innerHTML='Sebagai ' +datauserlog.role
//         }else{
//             document.getElementsByTagName('h1')[2].innerHTML='Sebagai ' +datauserlog.role
//         }
//         console.log(document.getElementsByTagName('center')[0].innerHTML)
//         document.getElementsByTagName('p')[0].innerHTML='<button onclick="logout()">Logout</button'
//     }else{
//         document.getElementsByTagName('h1')[1].innerHTML='Password salah'
//     }
// }
// const logout=()=>{
//     datauserlog={}
//     document.getElementsByTagName('h1')[2].innerHTML=''
//     document.getElementsByTagName('h1')[1].innerHTML=''
//     document.getElementsByTagName('p')[0].innerHTML=''
// }






</script>
</html>